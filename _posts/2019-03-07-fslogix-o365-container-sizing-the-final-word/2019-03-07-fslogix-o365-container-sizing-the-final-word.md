---
title: "FSLogix O365 Container Sizing â€“ The Final Word"
date: "2019-03-07"
categories: 
  - "fslogix"
---

![](images/030719_0911_FSLogixO3651.png)

Recently I've been working with FSLogix on producing some storage sizing metrics for Office 365 VHD containers.

I'm happy to announce that this testing is now complete, and we have produced some conclusions for scalability and sizing.

A white paper is available here:

[FSLogix Office 365 Contrainer Scalability and Sizing.pdf](https://www.leeejeffries.com/wp-content/uploads/2019/03/FSlogix-Office-365-Container-Scalability-and-Sizing-V1.0.pdf)

For those interested in the summary results, keep reading.

**Testing Environment:**

The environment used for testing is depicted below.

![](images/Diagram.png)

This environment was built in an automated fashion using AzureRM Templates which I created in VSCode. These templates are available for re-use and can be found in the [FSLogix GitHub Repository](https://github.com/FSLogix/Storage.Testing/).

I won't go into detail on how these templates are used as there is an introductory document within the repo that explains how the solution works.

The environment utilises Citrix as the delivery method for desktops and LoginVSI for testing purposes.

**Running the Tests:**

The simple aim of this testing was to determine the necessary storage IOPS required to support an FSLogix Office 365 Container solution.

I performed testing on Task and Knowledge Worker Workloads using LoginVSI with the Search Index Roaming enabled and disabled on the FSLogix side.

3 tests were run in each scenario and an average of the results taken for each test type.

Storage metrics are based on a standard industry formula:

Recommended IOPS = Average IOPS + (Standard Deviation of IOPS \* 2)

**Testing Results:**

Overall testing results across all tests are shown below, these are the figures to use if you are sizing an FSLogix O365 Container solution.

<table style="border-collapse: collapse;" border="0"><colgroup><col style="width: 328px;"><col style="width: 183px;"><col style="width: 176px;"></colgroup><tbody valign="top"><tr style="height: 20px;"><td style="padding-left: 7px; padding-right: 7px; border: solid 0.5pt;"><p style="text-align: center;"><span style="color: black; font-family: Calibri; font-size: 9pt; text-decoration: underline;"><strong>Row Labels</strong></span></p></td><td style="padding-left: 7px; padding-right: 7px; border-top: solid 0.5pt; border-left: none; border-bottom: solid 0.5pt; border-right: solid 0.5pt;"><p style="text-align: center;"><span style="color: black; font-family: Calibri; font-size: 9pt; text-decoration: underline;"><strong>Mean Write IOPS</strong></span></p></td><td style="padding-left: 7px; padding-right: 7px; border-top: solid 0.5pt; border-left: none; border-bottom: solid 0.5pt; border-right: solid 0.5pt;"><p style="text-align: center;"><span style="color: black; font-family: Calibri; font-size: 9pt; text-decoration: underline;"><strong>Mean Read IOPS</strong></span></p></td></tr><tr style="height: 20px;"><td style="padding-left: 7px; padding-right: 7px; border-top: none; border-left: solid 0.5pt; border-bottom: solid 0.5pt; border-right: solid 0.5pt;"><span style="color: black; font-family: Calibri; font-size: 9pt;">FSLogix_Caching_Indexing_Off_KnowledgeWorker</span></td><td style="padding-left: 7px; padding-right: 7px; border-top: none; border-left: none; border-bottom: solid 0.5pt; border-right: solid 0.5pt;"><span style="color: black; font-family: Calibri; font-size: 9pt;">5.1</span></td><td style="padding-left: 7px; padding-right: 7px; border-top: none; border-left: none; border-bottom: solid 0.5pt; border-right: solid 0.5pt;"><span style="color: black; font-family: Calibri; font-size: 9pt;">7.8</span></td></tr><tr style="height: 20px;"><td style="padding-left: 7px; padding-right: 7px; border-top: none; border-left: solid 0.5pt; border-bottom: solid 0.5pt; border-right: solid 0.5pt;"><span style="color: black; font-family: Calibri; font-size: 9pt;">FSLogix_Caching_Indexing_Off_TaskWorker</span></td><td style="padding-left: 7px; padding-right: 7px; border-top: none; border-left: none; border-bottom: solid 0.5pt; border-right: solid 0.5pt;"><span style="color: black; font-family: Calibri; font-size: 9pt;">4.8</span></td><td style="padding-left: 7px; padding-right: 7px; border-top: none; border-left: none; border-bottom: solid 0.5pt; border-right: solid 0.5pt;"><span style="color: black; font-family: Calibri; font-size: 9pt;">8.3</span></td></tr><tr style="height: 20px;"><td style="padding-left: 7px; padding-right: 7px; border-top: none; border-left: solid 0.5pt; border-bottom: solid 0.5pt; border-right: solid 0.5pt;"><span style="color: black; font-family: Calibri; font-size: 9pt;">FSLogix_Caching_Indexing_On_KnowledgeWorker</span></td><td style="padding-left: 7px; padding-right: 7px; border-top: none; border-left: none; border-bottom: solid 0.5pt; border-right: solid 0.5pt;"><span style="color: black; font-family: Calibri; font-size: 9pt;">5.7</span></td><td style="padding-left: 7px; padding-right: 7px; border-top: none; border-left: none; border-bottom: solid 0.5pt; border-right: solid 0.5pt;"><span style="color: black; font-family: Calibri; font-size: 9pt;">8.1</span></td></tr><tr style="height: 20px;"><td style="padding-left: 7px; padding-right: 7px; border-top: none; border-left: solid 0.5pt; border-bottom: solid 0.5pt; border-right: solid 0.5pt;"><span style="color: black; font-family: Calibri; font-size: 9pt;">FSLogix_Caching_Indexing_On_TaskWorker</span></td><td style="padding-left: 7px; padding-right: 7px; border-top: none; border-left: none; border-bottom: solid 0.5pt; border-right: solid 0.5pt;"><span style="color: black; font-family: Calibri; font-size: 9pt;">4.5</span></td><td style="padding-left: 7px; padding-right: 7px; border-top: none; border-left: none; border-bottom: solid 0.5pt; border-right: solid 0.5pt;"><span style="color: black; font-family: Calibri; font-size: 9pt;">7.8</span></td></tr></tbody></table>

**Examples of Sizing:**

The below table shows examples of sizing taking an average of all tests and multiplying that out by the number of users.

<table style="border-collapse: collapse;" border="0"><colgroup><col style="width: 219px;"><col style="width: 447px;"><col style="width: 457px;"><col style="width: 354px;"><col style="width: 364px;"></colgroup><tbody valign="top"><tr style="height: 25px;"><td style="padding-left: 7px; padding-right: 7px; border: solid 1.0pt;" valign="middle"><span style="color: black; font-family: Calibri; font-size: 9pt; text-decoration: underline;"><strong>Total Users</strong></span></td><td style="padding-left: 7px; padding-right: 7px; border-top: solid 1.0pt; border-left: none; border-bottom: solid 1.0pt; border-right: solid 1.0pt;" valign="middle"><p style="text-align: center;"><span style="color: black; font-family: Calibri; font-size: 9pt; text-decoration: underline;"><strong>Recommended Read IOPS Per User</strong></span></p></td><td style="padding-left: 7px; padding-right: 7px; border-top: solid 1.0pt; border-left: none; border-bottom: solid 1.0pt; border-right: solid 1.0pt;" valign="middle"><p style="text-align: center;"><span style="color: black; font-family: Calibri; font-size: 9pt; text-decoration: underline;"><strong>Recommended Write IOPS Per User</strong></span></p></td><td style="padding-left: 7px; padding-right: 7px; border-top: solid 1.0pt; border-left: none; border-bottom: solid 1.0pt; border-right: solid 1.0pt;" valign="middle"><p style="text-align: center;"><span style="color: black; font-family: Calibri; font-size: 9pt; text-decoration: underline;"><strong>Total Required Read IOPS</strong></span></p></td><td style="padding-left: 7px; padding-right: 7px; border-top: solid 1.0pt; border-left: none; border-bottom: solid 1.0pt; border-right: solid 1.0pt;" valign="middle"><p style="text-align: center;"><span style="color: black; font-family: Calibri; font-size: 9pt; text-decoration: underline;"><strong>Total Required Write IOPS</strong></span></p></td></tr><tr style="height: 25px;"><td style="padding-left: 7px; padding-right: 7px; border-top: none; border-left: solid 1.0pt; border-bottom: solid 1.0pt; border-right: solid 1.0pt;" valign="middle"><span style="color: black; font-family: Calibri; font-size: 9pt;">100</span></td><td style="padding-left: 7px; padding-right: 7px; border-top: none; border-left: none; border-bottom: solid 1.0pt; border-right: solid 1.0pt;" valign="middle"><span style="color: black; font-family: Calibri; font-size: 9pt;">8</span></td><td style="padding-left: 7px; padding-right: 7px; border-top: none; border-left: none; border-bottom: solid 1.0pt; border-right: solid 1.0pt;" valign="middle"><span style="color: black; font-family: Calibri; font-size: 9pt;">5</span></td><td style="padding-left: 7px; padding-right: 7px; border-top: none; border-left: none; border-bottom: solid 1.0pt; border-right: solid 1.0pt;" valign="middle"><span style="color: black; font-family: Calibri; font-size: 9pt;">800</span></td><td style="padding-left: 7px; padding-right: 7px; border-top: none; border-left: none; border-bottom: solid 1.0pt; border-right: solid 1.0pt;" valign="middle"><span style="color: black; font-family: Calibri; font-size: 9pt;">500</span></td></tr><tr style="height: 25px;"><td style="padding-left: 7px; padding-right: 7px; border-top: none; border-left: solid 1.0pt; border-bottom: solid 1.0pt; border-right: solid 1.0pt;" valign="middle"><span style="color: black; font-family: Calibri; font-size: 9pt;">200</span></td><td style="padding-left: 7px; padding-right: 7px; border-top: none; border-left: none; border-bottom: solid 1.0pt; border-right: solid 1.0pt;" valign="middle"><span style="color: black; font-family: Calibri; font-size: 9pt;">8</span></td><td style="padding-left: 7px; padding-right: 7px; border-top: none; border-left: none; border-bottom: solid 1.0pt; border-right: solid 1.0pt;" valign="middle"><span style="color: black; font-family: Calibri; font-size: 9pt;">5</span></td><td style="padding-left: 7px; padding-right: 7px; border-top: none; border-left: none; border-bottom: solid 1.0pt; border-right: solid 1.0pt;" valign="middle"><span style="color: black; font-family: Calibri; font-size: 9pt;">1600</span></td><td style="padding-left: 7px; padding-right: 7px; border-top: none; border-left: none; border-bottom: solid 1.0pt; border-right: solid 1.0pt;" valign="middle"><span style="color: black; font-family: Calibri; font-size: 9pt;">1000</span></td></tr><tr style="height: 25px;"><td style="padding-left: 7px; padding-right: 7px; border-top: none; border-left: solid 1.0pt; border-bottom: solid 1.0pt; border-right: solid 1.0pt;" valign="middle"><span style="color: black; font-family: Calibri; font-size: 9pt;">300</span></td><td style="padding-left: 7px; padding-right: 7px; border-top: none; border-left: none; border-bottom: solid 1.0pt; border-right: solid 1.0pt;" valign="middle"><span style="color: black; font-family: Calibri; font-size: 9pt;">8</span></td><td style="padding-left: 7px; padding-right: 7px; border-top: none; border-left: none; border-bottom: solid 1.0pt; border-right: solid 1.0pt;" valign="middle"><span style="color: black; font-family: Calibri; font-size: 9pt;">5</span></td><td style="padding-left: 7px; padding-right: 7px; border-top: none; border-left: none; border-bottom: solid 1.0pt; border-right: solid 1.0pt;" valign="middle"><span style="color: black; font-family: Calibri; font-size: 9pt;">2400</span></td><td style="padding-left: 7px; padding-right: 7px; border-top: none; border-left: none; border-bottom: solid 1.0pt; border-right: solid 1.0pt;" valign="middle"><span style="color: black; font-family: Calibri; font-size: 9pt;">1500</span></td></tr><tr style="height: 25px;"><td style="padding-left: 7px; padding-right: 7px; border-top: none; border-left: solid 1.0pt; border-bottom: solid 1.0pt; border-right: solid 1.0pt;" valign="middle"><span style="color: black; font-family: Calibri; font-size: 9pt;">400</span></td><td style="padding-left: 7px; padding-right: 7px; border-top: none; border-left: none; border-bottom: solid 1.0pt; border-right: solid 1.0pt;" valign="middle"><span style="color: black; font-family: Calibri; font-size: 9pt;">8</span></td><td style="padding-left: 7px; padding-right: 7px; border-top: none; border-left: none; border-bottom: solid 1.0pt; border-right: solid 1.0pt;" valign="middle"><span style="color: black; font-family: Calibri; font-size: 9pt;">5</span></td><td style="padding-left: 7px; padding-right: 7px; border-top: none; border-left: none; border-bottom: solid 1.0pt; border-right: solid 1.0pt;" valign="middle"><span style="color: black; font-family: Calibri; font-size: 9pt;">3200</span></td><td style="padding-left: 7px; padding-right: 7px; border-top: none; border-left: none; border-bottom: solid 1.0pt; border-right: solid 1.0pt;" valign="middle"><span style="color: black; font-family: Calibri; font-size: 9pt;">2000</span></td></tr><tr style="height: 25px;"><td style="padding-left: 7px; padding-right: 7px; border-top: none; border-left: solid 1.0pt; border-bottom: solid 1.0pt; border-right: solid 1.0pt;" valign="middle"><span style="color: black; font-family: Calibri; font-size: 9pt;">500</span></td><td style="padding-left: 7px; padding-right: 7px; border-top: none; border-left: none; border-bottom: solid 1.0pt; border-right: solid 1.0pt;" valign="middle"><span style="color: black; font-family: Calibri; font-size: 9pt;">8</span></td><td style="padding-left: 7px; padding-right: 7px; border-top: none; border-left: none; border-bottom: solid 1.0pt; border-right: solid 1.0pt;" valign="middle"><span style="color: black; font-family: Calibri; font-size: 9pt;">5</span></td><td style="padding-left: 7px; padding-right: 7px; border-top: none; border-left: none; border-bottom: solid 1.0pt; border-right: solid 1.0pt;" valign="middle"><span style="color: black; font-family: Calibri; font-size: 9pt;">4000</span></td><td style="padding-left: 7px; padding-right: 7px; border-top: none; border-left: none; border-bottom: solid 1.0pt; border-right: solid 1.0pt;" valign="middle"><span style="color: black; font-family: Calibri; font-size: 9pt;">2500</span></td></tr><tr style="height: 25px;"><td style="padding-left: 7px; padding-right: 7px; border-top: none; border-left: solid 1.0pt; border-bottom: solid 1.0pt; border-right: solid 1.0pt;" valign="middle"><span style="color: black; font-family: Calibri; font-size: 9pt;">600</span></td><td style="padding-left: 7px; padding-right: 7px; border-top: none; border-left: none; border-bottom: solid 1.0pt; border-right: solid 1.0pt;" valign="middle"><span style="color: black; font-family: Calibri; font-size: 9pt;">8</span></td><td style="padding-left: 7px; padding-right: 7px; border-top: none; border-left: none; border-bottom: solid 1.0pt; border-right: solid 1.0pt;" valign="middle"><span style="color: black; font-family: Calibri; font-size: 9pt;">5</span></td><td style="padding-left: 7px; padding-right: 7px; border-top: none; border-left: none; border-bottom: solid 1.0pt; border-right: solid 1.0pt;" valign="middle"><span style="color: black; font-family: Calibri; font-size: 9pt;">4800</span></td><td style="padding-left: 7px; padding-right: 7px; border-top: none; border-left: none; border-bottom: solid 1.0pt; border-right: solid 1.0pt;" valign="middle"><span style="color: black; font-family: Calibri; font-size: 9pt;">3000</span></td></tr><tr style="height: 25px;"><td style="padding-left: 7px; padding-right: 7px; border-top: none; border-left: solid 1.0pt; border-bottom: solid 1.0pt; border-right: solid 1.0pt;" valign="middle"><span style="color: black; font-family: Calibri; font-size: 9pt;">700</span></td><td style="padding-left: 7px; padding-right: 7px; border-top: none; border-left: none; border-bottom: solid 1.0pt; border-right: solid 1.0pt;" valign="middle"><span style="color: black; font-family: Calibri; font-size: 9pt;">8</span></td><td style="padding-left: 7px; padding-right: 7px; border-top: none; border-left: none; border-bottom: solid 1.0pt; border-right: solid 1.0pt;" valign="middle"><span style="color: black; font-family: Calibri; font-size: 9pt;">5</span></td><td style="padding-left: 7px; padding-right: 7px; border-top: none; border-left: none; border-bottom: solid 1.0pt; border-right: solid 1.0pt;" valign="middle"><span style="color: black; font-family: Calibri; font-size: 9pt;">5600</span></td><td style="padding-left: 7px; padding-right: 7px; border-top: none; border-left: none; border-bottom: solid 1.0pt; border-right: solid 1.0pt;" valign="middle"><span style="color: black; font-family: Calibri; font-size: 9pt;">3500</span></td></tr><tr style="height: 25px;"><td style="padding-left: 7px; padding-right: 7px; border-top: none; border-left: solid 1.0pt; border-bottom: solid 1.0pt; border-right: solid 1.0pt;" valign="middle"><span style="color: black; font-family: Calibri; font-size: 9pt;">800</span></td><td style="padding-left: 7px; padding-right: 7px; border-top: none; border-left: none; border-bottom: solid 1.0pt; border-right: solid 1.0pt;" valign="middle"><span style="color: black; font-family: Calibri; font-size: 9pt;">8</span></td><td style="padding-left: 7px; padding-right: 7px; border-top: none; border-left: none; border-bottom: solid 1.0pt; border-right: solid 1.0pt;" valign="middle"><span style="color: black; font-family: Calibri; font-size: 9pt;">5</span></td><td style="padding-left: 7px; padding-right: 7px; border-top: none; border-left: none; border-bottom: solid 1.0pt; border-right: solid 1.0pt;" valign="middle"><span style="color: black; font-family: Calibri; font-size: 9pt;">6400</span></td><td style="padding-left: 7px; padding-right: 7px; border-top: none; border-left: none; border-bottom: solid 1.0pt; border-right: solid 1.0pt;" valign="middle"><span style="color: black; font-family: Calibri; font-size: 9pt;">4000</span></td></tr><tr style="height: 25px;"><td style="padding-left: 7px; padding-right: 7px; border-top: none; border-left: solid 1.0pt; border-bottom: solid 1.0pt; border-right: solid 1.0pt;" valign="middle"><span style="color: black; font-family: Calibri; font-size: 9pt;">900</span></td><td style="padding-left: 7px; padding-right: 7px; border-top: none; border-left: none; border-bottom: solid 1.0pt; border-right: solid 1.0pt;" valign="middle"><span style="color: black; font-family: Calibri; font-size: 9pt;">8</span></td><td style="padding-left: 7px; padding-right: 7px; border-top: none; border-left: none; border-bottom: solid 1.0pt; border-right: solid 1.0pt;" valign="middle"><span style="color: black; font-family: Calibri; font-size: 9pt;">5</span></td><td style="padding-left: 7px; padding-right: 7px; border-top: none; border-left: none; border-bottom: solid 1.0pt; border-right: solid 1.0pt;" valign="middle"><span style="color: black; font-family: Calibri; font-size: 9pt;">7200</span></td><td style="padding-left: 7px; padding-right: 7px; border-top: none; border-left: none; border-bottom: solid 1.0pt; border-right: solid 1.0pt;" valign="middle"><span style="color: black; font-family: Calibri; font-size: 9pt;">4500</span></td></tr><tr style="height: 25px;"><td style="padding-left: 7px; padding-right: 7px; border-top: none; border-left: solid 1.0pt; border-bottom: solid 1.0pt; border-right: solid 1.0pt;" valign="middle"><span style="color: black; font-family: Calibri; font-size: 9pt;">1000</span></td><td style="padding-left: 7px; padding-right: 7px; border-top: none; border-left: none; border-bottom: solid 1.0pt; border-right: solid 1.0pt;" valign="middle"><span style="color: black; font-family: Calibri; font-size: 9pt;">8</span></td><td style="padding-left: 7px; padding-right: 7px; border-top: none; border-left: none; border-bottom: solid 1.0pt; border-right: solid 1.0pt;" valign="middle"><span style="color: black; font-family: Calibri; font-size: 9pt;">5</span></td><td style="padding-left: 7px; padding-right: 7px; border-top: none; border-left: none; border-bottom: solid 1.0pt; border-right: solid 1.0pt;" valign="middle"><span style="color: black; font-family: Calibri; font-size: 9pt;">8000</span></td><td style="padding-left: 7px; padding-right: 7px; border-top: none; border-left: none; border-bottom: solid 1.0pt; border-right: solid 1.0pt;" valign="middle"><span style="color: black; font-family: Calibri; font-size: 9pt;">5000</span></td></tr><tr style="height: 25px;"><td style="padding-left: 7px; padding-right: 7px; border-top: none; border-left: solid 1.0pt; border-bottom: solid 1.0pt; border-right: solid 1.0pt;" valign="middle"><span style="color: black; font-family: Calibri; font-size: 9pt;">2000</span></td><td style="padding-left: 7px; padding-right: 7px; border-top: none; border-left: none; border-bottom: solid 1.0pt; border-right: solid 1.0pt;" valign="middle"><span style="color: black; font-family: Calibri; font-size: 9pt;">8</span></td><td style="padding-left: 7px; padding-right: 7px; border-top: none; border-left: none; border-bottom: solid 1.0pt; border-right: solid 1.0pt;" valign="middle"><span style="color: black; font-family: Calibri; font-size: 9pt;">5</span></td><td style="padding-left: 7px; padding-right: 7px; border-top: none; border-left: none; border-bottom: solid 1.0pt; border-right: solid 1.0pt;" valign="middle"><span style="color: black; font-family: Calibri; font-size: 9pt;">16000</span></td><td style="padding-left: 7px; padding-right: 7px; border-top: none; border-left: none; border-bottom: solid 1.0pt; border-right: solid 1.0pt;" valign="middle"><span style="color: black; font-family: Calibri; font-size: 9pt;">10000</span></td></tr></tbody></table>

**Summary:**

Read IOPS don't cost much and Write IOPS of 5 per user is a nice low value. The folks at FSLogix have mentioned that with Cloud cache this could be even lower reducing the IOP load on the backend storage in a similar way to MCS/PVS Disk Caching.

For all the details and full write-up and results please do take a look at the whitepaper - [FSLogix Office 365 Contrainer Scalability and Sizing.pdf](https://www.leeejeffries.com/wp-content/uploads/2019/03/FSlogix-Office-365-Container-Scalability-and-Sizing-V1.0.pdf)
